<AskId>
    layout_widget: askid_label
    id: ask_id
    

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'center'
        pos_hint: {'top': 0.5 + self.size_hint[1]/2}

    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height

        BoxLayout:
            size_hint: 1, .3
            padding: 10
            spacing: 10
            canvas.before:
                Color:
                    rgba: (0,0,0.53,0.2)
                Rectangle:
                    size: self.size
                    pos: self.pos
            Label:
                bold: True
                text: "Entrez votre id"
                font_size: '75dp'

        BoxLayout:
            size_hint: 1, 1
            padding: 40
            spacing: 40

            canvas.before:
                Color:
                    rgba: (0,0,0.53,0.2)
                Rectangle:
                    size: self.size
                    pos: self.pos
            TextInput:
                center: self.parent.center 
                id: askid_label
                text: ''
                font_size: self.size[0] * 0.1
                background_color: 0,0,0.53,0.1
                disabled_foreground_color: [0,0,0,0]
                foreground_color: [255,255,255,255]
                text_color: 255,255,255
                allow_copy: False
                cursor_blink: False
                halign: 'center'
                valign: 'middle'
                size: self.parent.size[0], 200
                on_text_validate: root.CheckId()
                multiline: False


            GridLayout:
                padding: 2
                spacing:4
                canvas.before:
                    Color:
                        rgba: (0,0,0.53,0.2)
                        
                cols: 3
                bold: True
                Button:
                    text: '7'
                    on_press: app.trigger = True
                    on_press:
                        if (app.triggerC): askid_label.text = self.text
                        else: askid_label.text += self.text
                        if (app.triggerC): app.triggerC = False
                    
                Button:
                    text: '8'
                    on_press: app.trigger = True
                    on_press:
                        if (app.triggerC): askid_label.text = self.text
                        else: askid_label.text += self.text
                        if (app.triggerC): app.triggerC = False
                    
                Button:
                    text: '9'
                    on_press: app.trigger = True
                    on_press:
                        if (app.triggerC): askid_label.text = self.text
                        else: askid_label.text += self.text
                        if (app.triggerC): app.triggerC = False
                    
                Button:
                    text: '4'
                    on_press: app.trigger = True
                    on_press:
                        if (app.triggerC): askid_label.text = self.text
                        else: askid_label.text += self.text
                        if (app.triggerC): app.triggerC = False
                    
                Button:
                    text: '5'
                    on_press: app.trigger = True
                    on_press:
                        if (app.triggerC): askid_label.text = self.text
                        else: askid_label.text += self.text
                        if (app.triggerC): app.triggerC = False
                    
                Button:
                    text: '6'
                    on_press: app.trigger = True
                    on_press:
                        if (app.triggerC): askid_label.text = self.text
                        else: askid_label.text += self.text
                        if (app.triggerC): app.triggerC = False

                    
                Button:
                    text: '1'
                    on_press: app.trigger = True
                    on_press:
                        if (app.triggerC): askid_label.text = self.text
                        else: askid_label.text += self.text
                        if (app.triggerC): app.triggerC = False
                    
                Button:
                    text: '2'
                    on_press: app.trigger = True
                    on_press:
                        if (app.triggerC): askid_label.text = self.text
                        else: askid_label.text += self.text
                        if (app.triggerC): app.triggerC = False
                    
                Button:
                    text: '3'
                    on_press: app.trigger = True
                    on_press:
                        if (app.triggerC): askid_label.text = self.text
                        else: askid_label.text += self.text
                        if (app.triggerC): app.triggerC = False
                    

                Button:
                    text: '0'
                    on_press: app.trigger = True
                    on_press:
                        if (app.triggerC): askid_label.text = self.text
                        else: askid_label.text += self.text
                        if (app.triggerC): app.triggerC = False
                    
                Button:
                    text: 'DEL'
                    background_color: (255, 125, 0, .9)
                    color: (0,0,0,0.5)
                    on_press:
                        askid_label.text = ''

                BoxLayout:
                    orientation: 'vertical'

                    size_hint: 1, 1
                    Button:
                        text: "Exit"
                        background_color: (1.0, 0.0, 0.0, 1.0)
                        on_press:
                            root.exit()
                    Button:
                        text: "Enter"
                        background_color: (0, 200, 0, .5)
                        on_release:
                            root.CheckId()


<PopUpShow>:
    id : popup_id_unknown
    popup_label : popup_label
    size: root.width, root.height

    BoxLayout:
        orientation: 'vertical'
        GridLayout:
            cols: 2
            size_hint: 1, .35
            padding: 40
            spacing: 40
            Label:
                id: popup_label
                text: "Name"

            TextInput:
                padding: [0, (self.height-self.line_height)/2]
                on_text_validate: label_familyname.focus = True
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                text_size: self.size
                halign: 'center'
                valign: 'middle'
                background_color: 0,0,0.53,0.1
                id: label_name
                disabled_foreground_color: [0,0,0,0]
                foreground_color: [255,255,255,255]
                text: ''
                text_color: 255,255,255
                allow_copy: False
                cursor_blink: False
                multiline: False

            Label:
                id: popup_label
                text: "Family Name"


            TextInput:
                padding: [0, (self.height-self.line_height)/2]
                on_text_validate: root.popup_adduser()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                text_size: self.size
                halign: 'center'
                valign: 'middle'
                background_color: 0,0,0.53,0.1
                id: label_familyname
                disabled_foreground_color: [0,0,0,0]
                foreground_color: [255,255,255,255]
                text: ''
                text_color: 255,255,255
                allow_copy: False
                cursor_blink: False
                multiline: False
                on_text_validate: label_email.focus = True

            Label:
                id: popup_label
                text: "Email"

            TextInput:
                padding: [0, (self.height-self.line_height)/2]
                on_text_validate: root.popup_adduser()
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                text_size: self.size
                halign: 'center'
                valign: 'middle'
                background_color: 0,0,0.53,0.1
                id: label_email
                disabled_foreground_color: [0,0,0,0]
                foreground_color: [255,255,255,255]
                text: ''
                text_color: 255,255,255
                allow_copy: False
                cursor_blink: False
                multiline: False
        
        Button:
            cols:1
            size_hint: 0.17, 0.05
            background_color: (0, 200, 0, .5)
            text: "Save"
            on_release: root.popup_adduser()
            
            spacing :40
            pos_hint: {"x":0.45, "y":0.05}
            bold: True
        Button:
            
            spacing :40
            cols:2
            size_hint: 0.17, 0.05
            background_color: (1.0, 0.0, 0.0, 1.0)
            text: "Cancel"
            on_press: root.backPopup()
            
            pos_hint: {"x":0.45, "y":0.05}

<MyGridLayout>
    layout_content: layout_content

    id: additionulator
    display: label
    result: labelResult
    
    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height
        BoxLayout:
            #Ligne 134 en attendant
            id: labelResult
            size_hint: 1, .1
            padding: 20
            spacing: 20
            canvas.before:
                Color:
                    rgba: (0,0,0.53,0.2)
                Rectangle:
                    size: self.size
                    pos: self.pos

            Button:
                text: "Add User"
                on_press: root.add_user()
            Button:
                text: "Modify User"
                on_press: root.modify_user()
            Button:
                text: "Add Menu"
                on_press: root.add_menu()
            Button:
                text: "Modify Menu"
                on_press: root.modify_menu()

        ScrollView:
            size_hint: 1, 1
            canvas.before:
                Color:
                    rgba: (0,0,0.53,0.2)
                Rectangle:
                    size: self.size
                    pos: self.pos
            GridLayout:
                cols:2

                id: layout_content
                padding: 20
                spacing: 20
                canvas.before:
                    Color:
                        rgba: (0,0,0.53,0.2)
                Label:
                    bold: True
                    id: label_backup
                    size_hint: .3, .5
                    background: 3,25,5.53,0.1
                    text: ''
                    background_color: 0,0,0.53,0.1
                    disabled_foreground_color: [0,0,0,0]
                    foreground_color: [255,255,255,255]
                    text: ''
                    text_color: 255,255,255
                    allow_copy: False
                    cursor_blink: False

                Label:
                    bold: True
                    id: label_backup_addition
                    size_hint: .3, .5
                    background: 3,0,5.53,0.1
                    text: 'Choisissez votre menu...\n'
                TextInput:
                    size_hint: 1, .5
                    background_color: 0,0,0.53,0.1
                    id: label
                    text: ''
                    font_size: self.size[0] * 0.1
                    background_color: 0,0,0.53,0.1
                    disabled_foreground_color: [0,0,0,0]
                    foreground_color: [255,255,255,255]
                    text_color: 255,255,255
                    allow_copy: False
                    cursor_blink: False
                    halign: 'center'
                    valign: 'middle'
                    size: self.parent.size[0], 200
                    multiline: False
                    on_text_validate: root.list_menu()

            
                GridLayout:
                    padding: 2
                    spacing:4
                    canvas.before:
                        Color:
                            rgba: (1.0, 0.0, 0.0, 1.0)
                            
                    cols: 3
                    Button:
                        text: '7'
                        on_press: app.trigger = True
                        on_press:
                            if (app.triggerC): label.text = self.text
                            else: label.text += self.text
                            if (app.triggerC): app.triggerC = False
                        
                    Button:
                        text: '8'
                        on_press: app.trigger = True
                        on_press:
                            if (app.triggerC): label.text = self.text
                            else: label.text += self.text
                            if (app.triggerC): app.triggerC = False
                        
                    Button:
                        text: '9'
                        on_press: app.trigger = True
                        on_press:
                            if (app.triggerC): label.text = self.text
                            else: label.text += self.text
                            if (app.triggerC): app.triggerC = False
                        
                    Button:
                        text: '4'
                        on_press: app.trigger = True
                        on_press:
                            if (app.triggerC): label.text = self.text
                            else: label.text += self.text
                            if (app.triggerC): app.triggerC = False
                        
                    Button:
                        text: '5'
                        on_press: app.trigger = True
                        on_press:
                            if (app.triggerC): label.text = self.text
                            else: label.text += self.text
                            if (app.triggerC): app.triggerC = False
                        
                    Button:
                        text: '6'
                        on_press: app.trigger = True
                        on_press:
                            if (app.triggerC): label.text = self.text
                            else: label.text += self.text
                            if (app.triggerC): app.triggerC = False

                        
                    Button:
                        text: '1'
                        on_press: app.trigger = True
                        on_press:
                            if (app.triggerC): label.text = self.text
                            else: label.text += self.text
                            if (app.triggerC): app.triggerC = False
                        
                    Button:
                        text: '2'
                        on_press: app.trigger = True
                        on_press:
                            if (app.triggerC): label.text = self.text
                            else: label.text += self.text
                            if (app.triggerC): app.triggerC = False
                        
                    Button:
                        text: '3'
                        on_press: app.trigger = True
                        on_press:
                            if (app.triggerC): label.text = self.text
                            else: label.text += self.text
                            if (app.triggerC): app.triggerC = False
                        

                    Button:
                        text: '0'
                        on_press: app.trigger = True
                        on_press:
                            if (app.triggerC): label.text = self.text
                            else: label.text += self.text
                            if (app.triggerC): app.triggerC = False
                        
                    Button:
                        text: '.'
                        on_press:
                            if (app.trigger): label.text += self.text
                            if (app.trigger): app.triggerC = False
                            if (app.trigger): app.trigger = False

                    BoxLayout:
                        orientation: 'vertical'

                        size_hint: 1, 1
                        Button:
                            text: "Cancel"
                            background_color: (1.0, 0.0, 0.0, 1.0)
                            on_press:
                                root.del1()    
                        Button:
                            id: enter
                            text: "Enter"
                            background_color: (0, 200, 0, .5)
                            on_press:
                                root.list_menu()